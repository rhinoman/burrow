# Weather routine — generated by `gd quickstart`
#
# This routine queries the NWS weather API for a 7-day forecast
# and active alerts, then produces a report. No LLM required.
#
# To use this manually: copy to ~/.burrow/routines/weather.yaml

# --- Schedule (uncomment to run automatically) ---
# schedule: "0 6 * * *"    # 6:00 AM daily
# timezone: America/Denver
# jitter: 300              # spread queries over 5 minutes

# LLM provider for synthesis. "none" = passthrough (raw data in markdown).
# Set to a provider name from config.yaml to enable AI synthesis.
llm: local/llama3:latest

report:
  title: "Weather Report — Denver/Boulder, CO"
  # style: executive_summary
  # generate_charts: true
  # max_length: 5000

# Synthesis prompt — sent to the LLM as a system prompt when llm is not "none".
synthesis:
  system: |
    You are a weather analyst. Produce a clear, readable weather report from the
    raw forecast and alert data. Include:
    - Today's conditions and notable weather
    - Multi-day outlook highlighting significant changes
    - Any active alerts with recommended actions
    - A brief summary suitable for planning the day

    Use plain language. Skip technical grid metadata.

sources:
  - service: weather-gov
    tool: forecast
    context_label: "7-Day Forecast"

  - service: weather-gov
    tool: alerts
    context_label: "Active Weather Alerts"
